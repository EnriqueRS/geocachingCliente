<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core" >
    <h:head>

        <title>Validar Tesoro</title> 
        <!--<link href="../resources/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css" />
        <script src="../../bootstrap/js/jquery.js"></script>
        <script src="../../bootstrap/js/bootstrap.min.js"></script>-->

        <h:outputStylesheet library="css" name="estilo.css"  />
    </h:head >

    <h:body>
         <h:form>
            <h:commandButton value="Ir a Principal" type="submit" action="#{tesorosBean.irAPrincipal()}" />
        </h:form>
        <div class="text-center">
            <center> <h2>Validar tesoro</h2></center>
            <br/>
            <br/>
            <h:form> 
                <table align="center" width="59%" border="1">
                    <thead>
                        <tr>
                            <th>ID Tesoro</th>
                            <th>Nombre</th>
                            <th>Estado</th>
                            <th>Tama√±o</th>
                            <th>Usuario</th>
                            <th>Mantenimiento</th>
                        </tr>
                    </thead>
                    <tbody>
                        <c:forEach items="${gestionTesoroBean.tesorosD}" var="tesoro">
                            <tr>
                                <td align="center">${tesoro.idTesoro}</td>
                                <td align="center">${tesoro.nombre}</td>
                                <c:choose>
                                    <c:when test="${tesoro.estado eq 'td'}">
                                        <td align="center">Defectuoso</td>
                                    </c:when>
                                    <c:otherwise>
                                        <td align="center">${tesoro.estado}</td>
                                    </c:otherwise>
                                </c:choose>
                                <td align="center">${tesoro.tamanio}</td>
                                <td align="center">${tesoro.usuarioidUsuario.nick}</td>
                                <td align="center">
                                    <h:commandButton action="#{gestionTesoroBean.mantenimiento()}" value="#{gestionTesoroBean.mostrarBoton(tesoro)}">
                                        <f:setPropertyActionListener value="#{tesoro}" target="#{gestionTesoroBean.tesoroSeleccionado}">
                                        </f:setPropertyActionListener>
                                    </h:commandButton>
                                </td>
                            </tr>

                        </c:forEach>
                    </tbody>
                </table>
            </h:form>
        </div>
        <br/>
    </h:body>
</html>
